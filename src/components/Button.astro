---
const {
  ariaLabel,
  className,
  href,
  size = "md",
  text,
  variant = "primary",
  width = "fit",
  ...rest
} = Astro.props;

// Determine if wanting a button or anchor
const Element = href ? "a" : "button";
---

<Element
  {href}
  class:list={[
    "btn",
    `btn--${size}`,
    `btn--${variant}`,
    `btn--${width}`,
    className,
  ]}
  aria-label={ariaLabel}
  {...rest}
>
  <span>{text}</span>
</Element>

<style lang="scss">
  a.btn {
    font-weight: 400;
  }
  button.btn {
    font-weight: 100;
  }
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    cursor: pointer;
    box-sizing: border-box;
    border-radius: 999px;
    transition:
        background-color 0.3s ease,
      border-color 0.3s ease,
      color 0.3s ease;
    border-width: 1px;
    border-style: solid;

    // Variants
    &--primary {
      background-color: var(--primary);
      border-color: var(--primary);
      color: var(--secondary);
      &:hover,
      &:focus-within {
        background-color: var(--primaryFaded);
        border-color: var(--primaryFaded);
      }
    }

    &--secondary {
      background-color: var(--secondary);
      border-color: var(--secondary);
      color: var(--primary);
      &:hover,
      &:focus-within {
        background-color: var(--secondaryFaded);
        border-color: var(--secondaryFaded);
      }
    }

    &--outline {
      background-color: transparent;
      border-color: var(--secondary);
      color: var(--secondary);
      &:hover {
        background-color: var(--secondary);
        color: var(--primary);
      }
    }

    // Sizes
    &--sm {
      padding: 0.25rem 0.75rem;
      font-size: 0.875rem;
    }

    &--md {
      padding: 0.5rem 1.25rem;
      font-size: 1rem;
    }

    &--lg {
      padding: 0.75rem 1.5rem;
      font-size: 1.25rem;
    }

    // Width
    &--fit {
      width: fit-content;
    }
    &--full {
      width: 100%;
    }
  }
</style>